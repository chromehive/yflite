#!/usr/bin/env php
<?php
// Simple CLI entry for YFlite DevKit
require __DIR__ . '/../vendor/autoload.php';

use Chromehive\YFlite\Starter;

$argv0 = $argv[0] ?? 'dev-start';
$cmd = $argv[1] ?? 'help';

function help($name)
{
    echo "YFlite DevKit CLI - $name\n\n";
    echo "Usage:\n";
    echo "  $name help          Show this help\n";
    echo "  $name init|start    Run the starter initialize() method\n";
    echo "  $name run           Run the starter run() method\n";
    echo "\n";
}

switch ($cmd) {
    case 'help':
    case '--help':
    case '-h':
        help($argv0);
        exit(0);

    case 'init':
    case 'start':
        $starter = new Starter();
        echo "Initializing project...\n";
        $starter->initialize();
        echo "Done.\n";
        exit(0);

    case 'run':
        $starter = new Starter();
        echo "Running DevKit...\n";
        $starter->run();
        echo "Finished.\n";
        exit(0);

    default:
        echo "Unknown command: $cmd\n\n";
        help($argv0);
        exit(1);
}
